# Comment Cleaner Pro

<p align="left">
  <img src="media/ccp-banner.png" width="auto" height="auto" alt="Comment Cleaner Pro Logo">
</p>

<p align="left">
  <a href="https://marketplace.visualstudio.com/items?itemName=ChristliebDela.comment-cleaner-pro"><img src="https://img.shields.io/visual-studio-marketplace/v/ChristliebDela.comment-cleaner-pro?style=flat-square&color=000000&labelColor=222222" alt="Version"></a>
  <a href="https://marketplace.visualstudio.com/items?itemName=ChristliebDela.comment-cleaner-pro"><img src="https://img.shields.io/visual-studio-marketplace/d/ChristliebDela.comment-cleaner-pro?style=flat-square&color=000000&labelColor=222222" alt="Downloads"></a>
  <a href="https://github.com/christliebdela/Comment-Cleaner-VsCode-Ext/issues"><img src="https://img.shields.io/github/issues/christliebdela/Comment-Cleaner-VsCode-Ext?style=flat-square&color=000000&labelColor=222222" alt="Issues"></a>
  <a href="https://github.com/christliebdela/Comment-Cleaner-VsCode-Ext/pulls"><img src="https://img.shields.io/github/issues-pr/christliebdela/Comment-Cleaner-VsCode-Ext?style=flat-square&color=000000&labelColor=222222" alt="Pull Requests"></a>
  <a href="https://github.com/christliebdela/Comment-Cleaner-VsCode-Ext/blob/main/LICENSE"><img src="https://img.shields.io/badge/License-GPL%20v3-000000?style=flat-square&labelColor=222222&logo=gnu" alt="License"></a>
  <img src="https://hits.sh/github.com/christliebdela/Comment-Cleaner-VsCode-Ext.svg?style=flat-square&color=000000&labelColor=222222&label=visits" alt="Repository Visits">
</p>

## Video Demo

<p 
  <em>Coming Soon</em>
</p>

## Overview

Comment Cleaner Pro is a powerful VS Code extension for removing comments from source code files. It helps you streamline your code by efficiently removing all types of comments (line, block, and documentation) across 25+ programming languages while preserving the core functionality of your code.

## Features

- ✅ **Removes all comment types** (line, block, documentation, TODO/FIXME, and AI-generated) while preserving code functionality
- ✅ **Preserves meaningful comments** for better readability
- ✅ **One-click cleanup** with an easy-to-use command
- ✅ **Supports multiple programming languages**
- ✅ **Automatic backups** create safety files before removing comments
- ✅ **Detailed statistics** track the number of comments and lines removed
- ✅ **Undo/Redo support** to easily revert or restore changes
- ✅ **Configuration consistency** across all entry points

## Key Features

### Comprehensive Language Support
- **20+ Programming Languages** - Supports all major languages including Python, JavaScript (including JSX), TypeScript (including TSX), HTML, CSS, C/C++, Java, Ruby, Go, PHP, SQL, Swift, Rust, Kotlin, and more
- **Intelligent Comment Detection** - Accurately identifies and removes all comment types specific to each language
- **Preservation of Code Structure** - Maintains code indentation and formatting while removing comments

### Flexible Processing Options
- **Single File Processing** - Clean comments from the current file with a single click
- **Batch Processing** - Process multiple files simultaneously using glob patterns
- **Automatic Backups** - Create safety backups before removing comments
- **Customizable Rules** - Configure how unknown file types and special comments are handled
- **Configuration Persistence** - Settings in the UI panel now properly apply to all operations
- **Clear Configuration Dialogs** - Intuitive options when using context menu commands
- **Undo/Redo Support** - Easily revert or reapply changes with dedicated undo/redo buttons

### Enhanced User Experience
- **Modern UI Controls** - Circular checkboxes with green indicators for selected options
- **Unlimited History** - Track all cleaned files without arbitrary limits
- **Individual File Management** - Remove specific files from history as needed
- **Responsive Design** - UI elements maintain their shape and clarity at all window sizes

### Detailed Statistics
- **Comment Count** - Track the number of comments removed per file
- **Line Reduction** - See exactly how many lines were removed
- **File Size Impact** - Measure the size reduction achieved
- **Accurate Tracking** - Now with improved accuracy in statistics tracking

## Currently Supports

<div align="left">

| Category | Languages |
|:--------|-----------|
| **Web Development** | <img src="https://img.shields.io/badge/-JavaScript-F7DF1E?style=flat-square&logo=javascript&logoColor=black" alt="JavaScript"> <img src="https://img.shields.io/badge/-TypeScript-3178C6?style=flat-square&logo=typescript&logoColor=white" alt="TypeScript"> <img src="https://img.shields.io/badge/-HTML5-E34F26?style=flat-square&logo=html5&logoColor=white" alt="HTML5"> <img src="https://img.shields.io/badge/-CSS3-1572B6?style=flat-square&logo=css3&logoColor=white" alt="CSS3"> <img src="https://img.shields.io/badge/-PHP-777BB4?style=flat-square&logo=php&logoColor=white" alt="PHP"> |
| **Systems Programming** | <img src="https://img.shields.io/badge/-C-A8B9CC?style=flat-square&logo=c&logoColor=black" alt="C"> <img src="https://img.shields.io/badge/-C++-00599C?style=flat-square&logo=cplusplus&logoColor=white" alt="C++"> <img src="https://img.shields.io/badge/-Rust-000000?style=flat-square&logo=rust&logoColor=white" alt="Rust"> <img src="https://img.shields.io/badge/-Go-00ADD8?style=flat-square&logo=go&logoColor=white" alt="Go"> |
| **Enterprise** | <img src="https://img.shields.io/badge/-Java-007396?style=flat-square&logo=java&logoColor=white" alt="Java"> <img src="https://img.shields.io/badge/-C%23-239120?style=flat-square&logo=csharp&logoColor=white" alt="C#"> <img src="https://img.shields.io/badge/-Kotlin-7F52FF?style=flat-square&logo=kotlin&logoColor=white" alt="Kotlin"> |
| **Scripting** | <img src="https://img.shields.io/badge/-Python-3776AB?style=flat-square&logo=python&logoColor=white" alt="Python"> <img src="https://img.shields.io/badge/-Ruby-CC342D?style=flat-square&logo=ruby&logoColor=white" alt="Ruby"> <img src="https://img.shields.io/badge/-Perl-39457E?style=flat-square&logo=perl&logoColor=white" alt="Perl"> <img src="https://img.shields.io/badge/-Bash-4EAA25?style=flat-square&logo=gnu-bash&logoColor=white" alt="Bash"> <img src="https://img.shields.io/badge/-Lua-2C2D72?style=flat-square&logo=lua&logoColor=white" alt="Lua"> <img src="https://img.shields.io/badge/-PowerShell-5391FE?style=flat-square&logo=powershell&logoColor=white" alt="PowerShell"> |
| **Data & Analysis** | <img src="https://img.shields.io/badge/-SQL-4479A1?style=flat-square&logo=mysql&logoColor=white" alt="SQL"> <img src="https://img.shields.io/badge/-YAML-CB171E?style=flat-square&logo=yaml&logoColor=white" alt="YAML"> <img src="https://img.shields.io/badge/-R-276DC3?style=flat-square&logo=r&logoColor=white" alt="R"> <img src="https://img.shields.io/badge/-MATLAB-0076A8?style=flat-square&logo=mathworks&logoColor=white" alt="MATLAB"> |
| **Mobile Development** | <img src="https://img.shields.io/badge/-Swift-FA7343?style=flat-square&logo=swift&logoColor=white" alt="Swift"> <img src="https://img.shields.io/badge/-Dart-0175C2?style=flat-square&logo=dart&logoColor=white" alt="Dart"> |
| **Functional** | <img src="https://img.shields.io/badge/-Haskell-5D4F85?style=flat-square&logo=haskell&logoColor=white" alt="Haskell"> |

</div>

<p align="left"><i>Support for other languages is coming soon. Stay tuned!</i></p>

## Installation

1. Open VS Code
2. Go to Extensions view (Ctrl+Shift+X)
3. Search for "Comment Cleaner Pro"
4. Click Install

**Requirements:**
- Visual Studio Code 1.50.0 or higher
- Python 3.6 or higher

## Usage Guide

### Method 1: Clean Current File
1. Open a source code file in the editor
2. Right-click anywhere in the editor
3. Select "Comment Cleaner Pro: Clean Current File"
4. Configure your cleaning options:
   - Choose whether to create a backup
   - Select if TODO & FIXME comments should be preserved
   - Decide whether to keep documentation comments
   - Determine if unknown file types should be processed
5. The editor will refresh automatically with comments removed according to your settings

### Method 2: Command Palette
1. Press `Ctrl+Shift+P` (Windows/Linux) or `Cmd+Shift+P` (Mac)
2. Type "Comment Cleaner Pro" 
3. Select "Comment Cleaner Pro: Clean Current File" or "Comment Cleaner Pro: Clean Multiple Files"
4. Follow the prompts to configure options

### Method 3: Activity Bar Integration
1. Click the Comment Cleaner Pro icon in the Activity Bar
2. Choose "Clean Current File" or "Clean Multiple Files"
3. View your recently cleaned files in the "Cleaned Files" section
4. Use Undo/Redo buttons to revert or restore changes as needed

### Batch Processing Options
When cleaning multiple files:
1. Enter a glob pattern to match files (e.g., `*.js`, `src/**/*.py`)
2. Choose whether to create backups
3. Decide if unknown file types should be processed
4. Monitor progress in the notification area

## Command-Line Usage

The extension includes a standalone Python script that can be used directly:

```bash
# Basic usage
python path/to/ccp.py "*.js"

# Process files recursively
python path/to/ccp.py "src/**/*.py" --recursive

# Preserve documentation comments
python path/to/ccp.py "*.java" --keep-doc-comments

# Preserve TODO comments
python path/to/ccp.py "*.cpp" --preserve-todo

# Don't create backups
python path/to/ccp.py "*.html" --no-backup

# Force processing of unknown file types
python path/to/ccp.py "*.custom" --force
```

## Technical Details

Comment Cleaner Pro uses a sophisticated object-oriented architecture with dedicated language handlers to identify and remove comments while preserving code structure. The extension:

- Handles nested comment structures
- Preserves important comments like license headers when configured
- Detects and properly processes character escapes in strings
- Maintains code indentation and whitespace
- Provides accurate line count reduction statistics

## Performance Considerations

- For very large files (10MB+), expect processing to take a few seconds
- Batch processing uses multi-threading for better performance
- Uses memory-efficient processing techniques for large files

## FAQ

### Does Comment Cleaner Pro modify my original files?
Yes, but you can enable backups which create .bak files before processing.

### Can I undo the comment removal?
Yes, you can use the dedicated Undo button in the sidebar, use standard VS Code undo operations, or restore from the .bak backup files if you enabled backups.

### Does it work with all programming languages?
It supports 20+ major languages. For unlisted languages, you can try the "force" option, but results may vary.

### Does it work with embedded code like JavaScript in HTML files?
No, the current version only processes comments based on the file extension. JavaScript or CSS comments within HTML files will not be removed. We're actively working on adding support for embedded languages in a future release.

## Privacy & Security

Comment Cleaner Pro:

- Processes all files locally on your machine
- Does not send any code or data externally
- Requires no authentication or online services
- Has minimal extension permissions

## Project Information

<div align="left">
  <table>
    <tr>
      <td align="left">
        <a href="https://github.com/christliebdela/Comment-Cleaner-VsCode-Ext/blob/main/CHANGELOG.md">
          <img src="https://img.shields.io/badge/View-Changelog-blue?style=for-the-badge&logo=github" alt="View Changelog" />
          <br/>
          <b>Release History</b>
        </a>
      </td>
      <td align="left">
        <a href="https://github.com/christliebdela/Comment-Cleaner-VsCode-Ext/blob/main/CONTRIBUTING.md">
          <img src="https://img.shields.io/badge/Become_a-Contributor-orange?style=for-the-badge&logo=github" alt="Become a Contributor" />
          <br/>
          <b>Contributing</b>
        </a>
      </td>
      <td align="left">
        <a href="https://github.com/christliebdela/Comment-Cleaner-VsCode-Ext/blob/main/LICENSE">
          <img src="https://img.shields.io/badge/License-GPL%20v3-000000?style=flat-square&labelColor=222222&logo=gnu" alt="License">
          <br/>
          <b>License</b>
        </a>
      </td>
    </tr>
  </table>
</div>

This project is licensed under the **GNU General Public License v3.0** - a copyleft license that ensures derivative works remain open source.

Key points:
- You are free to use, modify, and distribute this software
- If you distribute modified versions, you must:
  - Make your changes open source under GPL v3
  - Clearly mark what changes you've made
  - Keep all copyright notices intact
  - Include the original license

This ensures that Comment Cleaner Pro and all derivatives remain open source, benefiting the entire community. See the [LICENSE](LICENSE) file for full details.

## Author

<div align="left">
  <a href="https://github.com/christliebdela">
    <img src="https://img.shields.io/badge/Created_by-Christlieb_Dela-222222?style=for-the-badge&logo=github" alt="Created by Christlieb Dela" />
  </a>
  <p>Thank you for using Comment Cleaner Pro!</p>
</div>


